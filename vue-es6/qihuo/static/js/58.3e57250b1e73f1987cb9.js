webpackJsonp([58],{qXEB:function(t,s){},"vv/Z":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});e("eqfM");var a=e("/QYm"),n=e("mvHQ"),i=e.n(n),r=e("Bb6q"),o={name:"identity",data:function(){return{newPass:"",confirmNewPass:"",discUrl:"",idError:"",inputPasswordError:""}},created:function(){this.discUrl=localStorage.getItem("discUrl")},methods:{linkHome:function(){this.$router.push({name:"bindPhone"})},inputButton:function(){!0===Object(r.a)(this.newPass)?(this.showBut=!0,this.idError=""):(this.showBut=!1,this.idError=Object(r.a)(this.newPass))},inputPassword:function(){var t=this.confirmNewPass,s=/^ +| +$/g.test(t);this.inputPasswordError=s?"密码中含有非法字符，请重新输入！":""},linkNewPassword:function(){var t=this;t.global.ws&&1===t.global.ws.readyState&&(t.global.ws.onopen=t.onopen()),t.global.ws.onmessage=function(s){t.websocketonmessage(s)}},onopen:function(){var t;t={action:"identityVerify",reqID:77,data:{idCard:this.newPass,password:this.confirmNewPass}},this.global.ws.send(i()(t))},websocketonmessage:function(t){this.redata=JSON.parse(t.data),"identityVerify"===this.redata.action&&(0===this.redata.data.code?this.$router.push({name:"changePhone"}):a.a.fail({message:"身份验证失败",duration:1e3}))}}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"identity"},[e("div",{staticClass:"record-bar"},[e("van-nav-bar",{attrs:{title:"更换手机号","left-arrow":""},on:{"click-left":t.linkHome}})],1),t._v(" "),e("div",{staticClass:"title"},[t._v("温馨提示：请输入身份证及登录密码以更换手机号码。")]),t._v(" "),e("div",{staticClass:"content new-content"},[e("van-cell-group",[e("van-field",{attrs:{label:"身份证号：",placeholder:"请输入身份证","error-message":t.idError},on:{input:t.inputButton},model:{value:t.newPass,callback:function(s){t.newPass=s},expression:"newPass"}}),t._v(" "),e("van-field",{attrs:{type:"password",label:"登录密码：",placeholder:"请输入登录密码","error-message":t.inputPasswordError},on:{input:t.inputPassword},model:{value:t.confirmNewPass,callback:function(s){t.confirmNewPass=s},expression:"confirmNewPass"}})],1)],1),t._v(" "),e("div",{staticClass:"button",on:{click:t.linkNewPassword}},[t._v("验证")])])},staticRenderFns:[]};var l=e("VU/8")(o,c,!1,function(t){e("qXEB")},"data-v-276de84c",null);s.default=l.exports}});
//# sourceMappingURL=58.3e57250b1e73f1987cb9.js.map