webpackJsonp([11],{"3hip":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n=(a("eqfM"),a("/QYm")),o=a("Bb6q"),r=a("sbrb"),c=a.n(r),d={name:"upId",data:function(){return{cardID:"",name:"",nameError:"",phone:"",code:"",keying:"",FrB:"",files:{name:"",type:""},headerImage:null,picValue:null,backPicValue:null,upImgUrl:"http://47.74.187.199:7777/api/file/uploadImg",idFrontName:"",idBackName:"",idError:"",showBut:!1,bankCardName:"",bankCardId:"",value:"",showPicker:!1,columns:["Binance-BTC","Binance-USDT"]}},created:function(){},methods:{inputName:function(){var t=this.name,e=/^[\u4E00-\u9FA5]/g.test(t);this.nameError=e?"":"姓名要求为中文字符请重新输入！"},inputButton:function(){!0===Object(o.a)(this.cardID)?(this.showBut=!0,this.idError=""):(this.showBut=!1,this.idError=Object(o.a)(this.cardID))},cardIDBlur:function(){1!=Object(o.a)(this.cardID)&&(this.idError=!0,this.cardID=Object(o.a)(this.cardID))},cardIDFocus:function(){this.idError&&(this.cardID="",this.idError=!1)},upIdPositive:function(t){this.$refs.idPositive.src=t.content,this.files.name=t.file.name,this.files.type=t.file.type,this.picValue=t.file,this.imgPreview(this.picValue),this.FrB=0,n.a.loading({message:"图片上传中...",duration:0})},upIdBack:function(t){this.$refs.idBack.src=t.content,this.files.name=t.file.name,this.files.type=t.file.type,this.backPicValue=t.file,this.imgPreview(this.backPicValue),this.FrB=1,n.a.loading({message:"图片上传中...",duration:0})},linkUpId:function(){""!==this.name&&""!==this.cardID&&""!==this.idFrontName&&""!==this.idBackName&&""===this.nameError&&!0===this.showBut?this.$router.push({name:"upBankCard",params:{name:this.name,phone:this.phone,code:this.code,keying:this.keying,cardID:this.cardID,idFrontName:this.idFrontName,idBackName:this.idBackName}}):n.a.fail({message:"信息有误或漏填"})},imgPreview:function(t){var e=this,a=void 0;if(c.a.getData(t,function(){a=c.a.getTag(this,"Orientation")}),t&&window.FileReader&&/^image/.test(t.type)){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){var t=this.result,i=new Image;i.src=t,this.result.length<=512e3?(e.headerImage=this.result,e.postImg()):i.onload=function(){var t=e.compress(i,a);e.headerImage=t,e.postImg()}}}},compress:function(t,e){var a=document.createElement("canvas"),i=a.getContext("2d"),s=document.createElement("canvas"),n=s.getContext("2d"),o=t.width,r=t.height,c=void 0;(c=o*r/4e6)>1?(o/=c=Math.sqrt(c),r/=c):c=1,a.width=o,a.height=r,i.fillStyle="#fff",i.fillRect(0,0,a.width,a.height);var d=void 0;if((d=o*r/1e6)>1){var h=~~(o/(d=~~(Math.sqrt(d)+1))),l=~~(r/d);s.width=h,s.height=l;for(var m=0;m<d;m++)for(var g=0;g<d;g++)n.drawImage(t,m*h*c,g*l*c,h*c,l*c,0,0,h,l),i.drawImage(s,m*h,g*l,h,l)}else i.drawImage(t,0,0,o,r);if(""!=e&&1!=e)switch(e){case 6:this.rotateImg(t,"left",a);break;case 8:this.rotateImg(t,"right",a);break;case 3:this.rotateImg(t,"right",a),this.rotateImg(t,"right",a)}var u=a.toDataURL("image/jpeg",.3);return s.width=s.height=a.width=a.height=0,u},rotateImg:function(t,e,a){if(null!=t){var i=t.height,s=t.width,n=2;null==n&&(n=0),"right"==e?++n>3&&(n=0):--n<0&&(n=3);var o=90*n*Math.PI/180,r=a.getContext("2d");switch(n){case 0:a.width=s,a.height=i,r.drawImage(t,0,0);break;case 1:a.width=i,a.height=s,r.rotate(o),r.drawImage(t,0,-i);break;case 2:a.width=s,a.height=i,r.rotate(o),r.drawImage(t,-s,-i);break;case 3:a.width=i,a.height=s,r.rotate(o),r.drawImage(t,-s,0)}}},dataURLtoFile:function(t){for(var e=t.split(","),a=atob(e[1]),i=a.length,s=new Uint8Array(i);i--;)s[i]=a.charCodeAt(i);return new File([s],this.files.name,{type:this.files.type})},postImg:function(){var t=this,e=this.dataURLtoFile(this.headerImage),a=new window.FormData;a.append("uploadFile",e),this.$axios.post(this.upImgUrl,a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){0===t.FrB?(t.idFrontName=e.data.object,n.a.clear()):1===t.FrB&&(t.idBackName=e.data.object,n.a.clear())})},onConfirm:function(t){this.value=t,this.showPicker=!1},getLogin:function(t){var e=this;e.global.ws&&1===e.global.ws.readyState?e.global.ws.onopen=e.onopen():Object(n.a)({position:"bottom",duration:"2000",message:"超出安全时间请重新开户",onClose:function(){e.$router.push({name:"register"})}}),e.global.ws.onmessage=function(t){e.websocketonmessage(t)}},onopen:function(){var t;localStorage.getItem("openKeying");t={action:"certification",reqID:9,data:{name:this.name,phone:"",code:"",keying:"",idcard:"",bank:this.value,bankAccount:this.bankCardId,IdCardIs:"",IdCardBack:"",BankCardImg:""}},this.global.ws.send(s()(t))},websocketonerror:function(){this.getLogin()},websocketonmessage:function(t){this.redata=JSON.parse(t.data);var e=this;"certification"===this.redata.action&&(localStorage.removeItem("openKeying"),0===this.redata.data.code?(localStorage.setItem("status",3),Object(n.a)({message:e.$t("submitOpenS"),duration:2e3,position:"bottom",onClose:function(){e.$router.push({name:"toBeAudited"})}})):Object(n.a)({message:e.$t("submitOpenF"),duration:3e3,position:"bottom",onClose:function(){e.$router.push({name:"register"})}})),this.redata.data.ok&&(localStorage.setItem("Flag","isLogin"),localStorage.setItem("account",e.account),sessionStorage.setItem("disc",this.environment),this.$router.push({path:"home"}))},websocketclose:function(t){}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upId"},[i("div",{staticClass:"upId-title"},[t._v("身份认证")]),t._v(" "),i("div",{staticClass:"upId-input"},[i("van-cell-group",[i("van-field",{attrs:{placeholder:t.$t("EnterName"),"error-message":t.nameError},on:{blur:t.inputName},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[i("img",{staticClass:"nameClass",attrs:{slot:"left-icon",src:a("L59G"),alt:""},slot:"left-icon"})]),t._v(" "),i("van-field",{attrs:{placeholder:t.$t("EnterID"),"error-message":t.idError},on:{blur:t.inputButton},model:{value:t.cardID,callback:function(e){t.cardID=e},expression:"cardID "}},[i("img",{staticClass:"nameClass",attrs:{slot:"left-icon",src:a("bDh/"),alt:""},slot:"left-icon"})])],1)],1),t._v(" "),i("div",{staticClass:"upId-upImg"},[i("div",{staticClass:"upId-upImg-box"},[i("van-uploader",{attrs:{"preview-image":"","after-read":t.upIdPositive}},[i("img",{staticClass:"uploader-img",attrs:{src:a("Q545")}}),t._v(" "),i("img",{ref:"idPositive",staticClass:"uploader-img2",attrs:{src:a("B3US")}})])],1),t._v(" "),i("div",{staticClass:"uploader-text"},[t._v("点击上传身份证正面")]),t._v(" "),i("div",{staticClass:"upId-upImg-box"},[i("van-uploader",{attrs:{accept:"image/*","after-read":t.upIdBack}},[i("img",{staticClass:"uploader-img",attrs:{src:a("Q545")}}),t._v(" "),i("img",{ref:"idBack",staticClass:"uploader-img2",attrs:{src:a("6AwW")}})])],1),t._v(" "),i("div",{staticClass:"uploader-text"},[t._v("点击上传身份证反面")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"upId-but",on:{click:t.linkUpId}},[t._v("下一步")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"upId-Tips"},[e("p",[this._v("温馨提示")]),this._v(" "),e("p",[this._v("1.请确保身份证边框完整、文字清晰、无反光")]),this._v(" "),e("p",[this._v("2.请确保身份证未过期、与开户本人一致")]),this._v(" "),e("p",[this._v("3.请使用身份证原件拍摄,本平台会加密存储您的身信息,仅用于开户使用")])])}]};var l=a("VU/8")(d,h,!1,function(t){a("PvZ7")},"data-v-c9c410b0",null);e.default=l.exports},"6AwW":function(t,e,a){t.exports=a.p+"static/img/idBack.9c22af2.png"},B3US:function(t,e,a){t.exports=a.p+"static/img/upId.0700ff4.png"},L59G:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBDNEFCNzUzMjBBODExRUE4RkNFQjkzNUFDQTU5RURDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBDNEFCNzU0MjBBODExRUE4RkNFQjkzNUFDQTU5RURDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEM0QUI3NTEyMEE4MTFFQThGQ0VCOTM1QUNBNTlFREMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEM0QUI3NTIyMEE4MTFFQThGQ0VCOTM1QUNBNTlFREMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7LP73tAAAGCElEQVR42uxc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"},PvZ7:function(t,e){},"bDh/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE1RkM4NTcwMjBBODExRUE4QkY4RTI2RjIyNjk2NjEzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE1RkM4NTcxMjBBODExRUE4QkY4RTI2RjIyNjk2NjEzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTVGQzg1NkUyMEE4MTFFQThCRjhFMjZGMjI2OTY2MTMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTVGQzg1NkYyMEE4MTFFQThCRjhFMjZGMjI2OTY2MTMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7kyW4pAAAEgElEQVR42uycaWxMURTHpxSRRppQiTVFY4lOLdXYRbrQhJCGxlZCbCVIUz4RraB8EKEipI1dRGn50Gg0rRYRFVSt6QcR8UG0aCmltmD8jzkT19PpvJn3pjr33ZP8c27v3Pfefb+527lvXoMcDodN2b/WTiFQYBQYBUaBUWAUGAUmQC1I/GNg6vfhcGnQVKiX9nMJjVa3NVAptO9JbvCDv8AACPmt0GYLwGgJUha0BYAcwZy5jaFYvfdkuHwQWstIJKo0LaUEugx9kxxGRygOStS0nFHUYtI1UJajKR2xUEvZhcaxDP6w0HLSaVZKEAqVWwzKb+N7LheyEghMTyHjioXHGPHee2rXMU0WBtOkFng6LDiQK49Bk2aVxdAsyA51gV5Dt6BTGDtKLAcGUGLg8qH+mo9C6WNoIcpcgl8AQPWmg8HJqbstgkb4aVX8ATqKyj/zAspouKtQZ85q4MGT/BBoPNd1ClSB8mNx/gazW8w6KNvPDWApKh+Oyn/XAYVgnBeg7IEycWyTUCYSLg+KggZBOdBcs6PrYa3QMyhgDdNZNhXqw2kK/DaIUHhdUg0XCz3nrDmAFWU2mCPc3P1pebiZlzrLJrP/2FJ8h/O9gdvRzHHmdCVc4AZo0zc0wE9QPuAaT70ob2dfgeM+eih7UUhHmj4roQKNcPfbyIQUyr5RR9nPQjrM7K7U1qyOfbSX4+ML2cFcYx+BLj7TQ9n1Qvq67GByhPRR3k/STum0z7Qdyemc9R46I/XKF+NdGW6a1jGzoW7QTfxNM2cR9BYazFP6OOGwTf5Y4NE3QBUYCrX38X5+QNWo3FuT+FB81Bsaa3Puwq1mNWfZuO5Bf4QEk+GKhZWmz2E9zpWISlaYACbFi+k3CdctxHWvmj3GLDEBClkIn8to8LgTLpcjaZfVc6xUSF0L+iJ81g8qxXHzzQZTZeIQcccglLVwG4Ws2zbnZnYPtIg4KAmisaU7xV825zMjsg7QCRw/0cwx5gDvcYwxOMbQHkmBASgUDO4Wsg7RuAIQP5oZoGlFfAzHFPHqN4bhHEeeHZ9/MSMkcPC+R/5/npDoYVgnTtPG9SrU7aeHutcBxAwkH3IrioBWQPulWMfg5voKQSB9UWs8QRHgUHCaKWSlybTAS7L92SQrwc0+9vL4k9A7YcVslwXMJCF9wYdF4Seb88mqyybIAkZcs1T6eA7xuChZwIhbBrU+nqNGSHeVBYyrnj95MeeLvRLSHpcdgRJE0s8zVkLn9KxB3BiFBGehcGivFGAAI0ez3eDLOb7CzZN5P6ZV+64yBUaBMWR6d/DoufVwW+D/opPirEcYiO8aBgMoyUa2C9poUJoCOKeNdqVpEvYUT49ddIEplhBMkeGuhCZXgKYXzWOMDEZPKyq9BRPiBs49uHuST0Qh2q4kRquxFp6hxXuvJTBlQkY8/0raUsb3HC9klal3Cdy8S+B6LYcegFv97ROXZWFMzXBN17SLvp1pWdUczOD3EwX1hpu7N9zU/3ZQ0bUCo8AoMAqMAqPAKDAKjCXslwADAL/4UDER/5JAAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=11.f36eff7a30bca96dbdcf.js.map