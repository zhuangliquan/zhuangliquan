webpackJsonp([66],{eaaM:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),n={data:function(){return{instrumentId:"",uid:"",name:"",type:0,item:{}}},props:{mainList:{type:Object}},created:function(){this.uid=localStorage.getItem("uid"),this.getoptional()},methods:{show:function(){},back:function(){this.$router.go(-1)},getoptional:function(){if(localStorage.getItem("optional"))for(var t in this.optional=JSON.parse(localStorage.getItem("optional")),this.mainList){this.mainList[t].type=1;for(var e=0;e<this.optional.length;e++)this.mainList[t].name==this.optional[e]&&(this.mainList[t].type=0)}},changeoptional:function(t){if(0==t.type){var e=JSON.parse(localStorage.getItem("optional"));for(var i in e=e.filter(function(e){return e!=t.name}),localStorage.removeItem("optional"),localStorage.setItem("optional",a()(e)),this.mainList)if(this.mainList[i].name==t.name)return void(this.mainList[i].type=1)}else if(1==t.type){var s=[];for(var n in localStorage.getItem("optional")?(s=JSON.parse(localStorage.getItem("optional"))).push(t.name):s.push(t.name),localStorage.setItem("optional",a()(s)),this.mainList)if(this.mainList[n].name==t.name)return void(this.mainList[n].type=0)}},add:function(t){this.name=t.name,this.instrumentId=t.instrumentid,this.item=t;var e=0;0==t.type&&(e=1),this.type=e,this.handdleMsg()},handdleMsg:function(t){var e=this;e.global.ws&&1==e.global.ws.readyState&&(e.global.ws.onopen=e.onopen()),e.global.ws.onmessage=function(t){e.$emit("addSelf",{name:e.instrumentId,type:e.type})}},onopen:function(){var t=void 0;t=0==this.type?{action:"deleteInstrumentOptional",reqID:12,data:{instrumentId:this.instrumentId,userId:this.uid,instrumentName:this.name}}:{action:"insertInstrumentOptional",reqID:13,data:{instrumentId:this.instrumentId,userId:this.uid,instrumentName:this.name}},this.global.ws.send(a()(t))}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addself"},[i("div",{staticClass:"head"},[t._v("添加自选"),i("span",{on:{click:t.back}},[t._v("")])]),t._v(" "),t._m(0),t._v(" "),i("div",{ref:"scroll",staticClass:"scroll"},[i("div",{staticClass:"scrollB"},t._l(t.mainList,function(e,s){return i("div",{key:s,staticClass:"item2"},[i("div",{staticClass:"item-name",on:{click:t.show}},[i("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"ename"},[t._v(t._s(e.instrumentid))])]),t._v(" "),i("div",{staticClass:"item-price"},[i("span",{staticClass:"price1",class:[e.diffPrice>0?"changeRed":e.diffPrice<0?"changeGre":""]},[t._v(t._s(e.NEWPRICE)+t._s(e.diffPrice<0?"":e.diffPrice>0?"":""))]),t._v(" "),i("span",{staticClass:"price2",class:[e.diffPrice>0?"changeRed":e.diffPrice<0?"changeGre":""]},[t._v(t._s(e.diffPrice>0?e.diffPrice:-1*e.diffPrice)+"/"+t._s(e.diffPriceRate))])]),t._v(" "),i("div",{staticClass:"item-choose"},[i("span",{class:{select:0!=e.type},on:{click:function(i){return t.changeoptional(e)}}})])])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scheader"},[e("span",{staticClass:"scheader1"},[this._v("名称代码")]),e("span",{staticClass:"scheader2"},[this._v("最新价")]),e("span",{staticClass:"scheader3"}),e("span",{staticClass:"scheader4"},[this._v("添加")])])}]};var r=i("VU/8")(n,o,!1,function(t){i("lwWP")},"data-v-0885fd18",null);e.default=r.exports},lwWP:function(t,e){}});
//# sourceMappingURL=66.44ce81fb8aa49e023692.js.map