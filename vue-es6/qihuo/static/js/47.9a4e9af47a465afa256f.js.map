{"version":3,"sources":["webpack:///src/views/trade/components/closeSheet.vue","webpack:///./src/views/trade/components/closeSheet.vue?29d8","webpack:///./src/views/trade/components/closeSheet.vue"],"names":["closeSheet","name","data","discUrl","sheetTradeShow","showSellOut","upTitle","stepperMax","stepper","stopProfit","stopLoss","styleClass","show","instrumentid","newClose","bidPrice","askPrice","uid","showClosePosition","average","bondClose","directionClose","serviceChargeClose","changeContentOff","detailedData","orderList","tsNum","nameEN","add","diffPriceRate","NEWCPL","Max","tick","digits","tickCopyData","props","appTick","type","Array","tradeTab","Number","changeShow","Object","watch","newVal","JSON","parse","localStorage","tickCopy","this","undefined","price","toFixed","bidprice","askprice","preclose","priceperpoint","rate","created","routeData","$route","params","positionid","margin","commission","userid","groupid","MaxVolume","getItem","handdleMsg","methods","closePosition","dis","encryption","decrypt","discount","stringify_default","i","commissionClose","quickOrder","a","noShowSheet","$emit","removeItem","$router","push","msg","that","global","ws","readyState","onopen","onmessage","res","websocketonmessage","ConfirmClosing","_this","onopen3","websocketonmessage3","setOrderList","balance","direction","diff","length","action","reqID","id","settlementid","source","orderRef","ordersysid","volume","volumeTraded","priceType","limitPrice","distanceStopPrice","distanceProfitPrice","status","closed","frozenMargin","frozenMarginMember","tradingDay","createtime","updatetime","canceltime","hedge","hedgeChannel","distanceStop","distanceProfit","send","sum","len","toast","loading","message","$t","duration","mask","forbidClick","onClose","position","e","redata","code","fail","clear","actions","userId","object","volumeClosed","volumeFrozen","sarr","arr","factorial","idx","components_closeSheet","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","round","overlay","on","cancel","click-overlay","model","value","callback","$$v","expression","class","$i18n","locale","_v","_s","staticStyle","color","style","_e","disabled","click","$event","margin-right","max","closeOnPopstate","show-cancel-button","cancel-button-text","cancelButtonColor","confirmButtonColor","show-confirm-button","confirm-button-text","confirm","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/47.9a4e9af47a465afa256f.js","sourcesContent":["<template>\n  <div>\n    <div class=\"actionSheet\">\n      <van-action-sheet v-model=\"sheetTradeShow\" round overlay  class=\"sheet-box\"  @cancel=\"noShowSheet\" @click-overlay=\"noShowSheet\">\n        <div class=\"sheet-content\">\n          <div class=\"title\">\n            <div class=\"name\">\n              <div :class=\"$i18n.locale === 'en'?'name-en':''\">{{$i18n.locale === 'en'?nameEN:name}}</div>\n              <div style=\"color: #808080\">{{instrumentid}}</div>\n            </div>\n            <div class=\"close\">\n              <div :style=\"{color:add<0?$t('fall'):$t('rise')}\">{{newClose}}</div>\n              <div :style=\"{color:add<0?$t('fall'):$t('rise')}\"><span v-if=\"add > 0\">+</span>{{add}} {{diffPriceRate}}</div>\n            </div>\n            <div class=\"BAPrice\">\n              <div>{{$t('Buy')}}：<span style=\"color:#FD4F50\">{{bidPrice}}</span></div>\n              <div>{{$t('Sell')}}：<span style=\"color: #0CAD6B\">{{askPrice}}</span></div>\n            </div>\n          </div>\n          <div class=\"title\">\n            <div class=\"name1\">\n              <div>{{$t('AveragePrice')}}</div>\n              <div >{{average}}</div>\n            </div>\n            <div class=\"name1\">\n              <div>{{$t('Number')}}</div>\n              <div>{{stepperMax}}</div>\n            </div>\n            <div class=\"name1\">\n              <div>{{$t('PL')}}</div>\n              <div :style=\"{color:NEWCPL<0?$t('fall'):$t('rise')}\">${{NEWCPL}}</div>\n            </div>\n          </div>\n          <div class=\"number number-but\" style=\"color: #222\">\n            <div class=\"number-title\">{{$t('quickClosing')}}</div>\n            <van-button :disabled=\"stepperMax>=1?false:true\" @click=\"quickOrder(1)\">1</van-button>\n            <van-button :disabled=\"stepperMax>=2?false:true\" @click=\"quickOrder(2)\">2</van-button>\n            <van-button :disabled=\"stepperMax>=3?false:true\"  @click=\"quickOrder(3)\">3</van-button>\n            <van-button :disabled=\"stepperMax>=4?false:true\"  @click=\"quickOrder(4)\">4</van-button>\n            <van-button :disabled=\"stepperMax>=5?false:true\"  @click=\"quickOrder(5)\">5</van-button>\n            <van-button class=\"all-but\" @click=\"quickOrder(Max)\">{{$t('whole')}}</van-button>\n<!--            <van-stepper   v-model=\"stepper\" :max=\"stepperMax\"/>-->\n          </div>\n          <div class=\"number\" >\n            <div style=\"color: #222;\" class=\"number-title1\" :style=\"{'margin-right':$i18n.locale === 'en'?'0':''}\">{{$t('Number')}}</div>\n            <van-stepper  v-model=\"stepper\"  :max=\"stepperMax\"/>\n            <!--          <div class=\"sheet-trade-but\" style=\"border-color: #FF7100;background-color: #FF7100;color: white\" @click=\"handdleMsg\">设置</div>-->\n          </div>\n          <div class=\"sheet-but\">\n<!--            <div style=\"background-color:#2E8CFF;\" @click=\"sellOut\">追加下单</div>-->\n            <div @click=\"closePosition\">{{$t('CloseP')}}</div>\n          </div>\n        </div>\n      </van-action-sheet>\n    </div>\n    <div class=\"dialog\">\n     <div class=\"sellOut\">\n      <van-dialog\n        closeOnPopstate\n        v-model=\"showClosePosition\"\n        show-cancel-button\n        :cancel-button-text=\"$t('cancel')\"\n        cancelButtonColor=\"#8C8B8B\" confirmButtonColor=\"#1988FF\"\n        show-confirm-button\n        :confirm-button-text=\"$t('ConfirmC')\"\n        @confirm=\"ConfirmClosing\"\n      >\n        <div slot=\"title\" class=\"dia-title\">{{$t('OrderInform')}}</div>\n        <div slot=\"default\" class=\"dia-content\">\n          <div>\n            <div>{{$t('Name')}}：</div>\n            <div class=\"dia-content-title\">{{$i18n.locale === 'en'?nameEN:name}}</div>\n          </div>\n          <div>\n            <div>{{$t('code')}}：</div>\n            <div class=\"dia-content-title1\">{{instrumentid}}</div>\n          </div>\n          <div>\n            <div>{{$t('direction')}}：</div>\n            <div><span :style=\"{color:directionClose === '买'? '#FD4F50':'#0CAD6B'}\">{{directionClose === '买'?$t('buy'):$t('sell')}}</span></div>\n          </div>\n          <div>\n            <div>{{$t('PL')}}($)：</div>\n            <div :style=\"{color:NEWCPL<0?'#0CAD6B':'#FD4F50'}\"> {{NEWCPL}}</div>\n          </div>\n          <div>\n            <div>{{$t('LatestPrice')}}：</div>\n            <div :style=\"{color:add<0?'#0CAD6B':'#FD4F50'}\">{{newClose}}</div>\n          </div>\n          <div>\n            <div>{{$t('AveragePrice')}}：</div>\n            <div>{{average}}</div>\n          </div>\n          <div>\n            <div>{{$t('Qty')}}：</div>\n            <div>{{stepper}}</div>\n          </div>\n          <div>\n            <div>{{$t('margin')}}：</div>\n            <div>{{bondClose}}</div>\n          </div>\n          <div>\n            <div>{{$t('ServiceCharge')}}：</div>\n            <div>{{serviceChargeClose}}</div>\n          </div>\n        </div>\n      </van-dialog>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import EP from '../../../utils/encryption'\n  import { Toast } from 'vant';\n    export default {\n      name: \"closeSheet\",\n      data(){\n          return{\n            discUrl:'',\n            sheetTradeShow:'',\n            showSellOut:false,\n            upTitle:'11',\n            stepperMax:null,\n            stepper:1,\n            // 传给父组件的值\n            stopProfit:'11',\n            stopLoss:'1000',\n            styleClass: 'start',\n            show:false,\n            instrumentid:'',\n            newClose:0,\n            // 买价\n            bidPrice:0 ,\n            // 卖价\n            askPrice:0,\n            // 用户id\n            uid:'',\n            // bidPriceVal:this.bidPrice\n            // 弹出框-平仓显示\n            showClosePosition: false,\n            // 平仓\n            average:0,\n            bondClose:0,\n            directionClose:0,\n            serviceChargeClose:0,\n            changeContentOff:true,\n            // 详细订单\n            detailedData:[],\n            // 存放订单号\n            orderList:[],\n            tsNum:0,\n\n            name:'',\n            nameEN:'',\n            add:0,\n            diffPriceRate:0,\n            NEWCPL:0,\n            Max:0,\n            tick:0,\n            digits:0,\n            tickCopyData:''\n          }\n      },\n      props:{\n        appTick:{\n          type:Array,\n        },\n        tradeTab:{\n          type:Number\n        },\n        changeShow:{\n          type:Object\n        }\n      },\n      watch:{\n        appTick(newVal) {\n          // console.log(newVal,'newVal')\n          if(JSON.parse(localStorage.tickCopy) !== ''){\n            this.tickCopyData = JSON.parse(localStorage.tickCopy)\n          }\n          if (this.tickCopyData[this.instrumentid] !== undefined) {\n            let data = this.tickCopyData[this.instrumentid]\n            this.newClose = (data.price).toFixed(this.digits)\n            this.bidPrice = (data.bidprice).toFixed(this.digits)\n            this.askPrice = (data.askprice).toFixed(this.digits)\n            this.add = (data.price-data.preclose).toFixed(this.digits)\n            if(data.preclose === 0){\n              this.diffPriceRate = '--'\n            }else {\n              this.diffPriceRate = (((Number(data.price)-Number(data.preclose))/data.preclose)*100).toFixed(this.digits)+'%';\n            }\n            if(this.directionClose === '卖'){\n              this.NEWCPL = Number((Number(data.price-this.average)*this.stepperMax*this.priceperpoint*this.rate).toFixed(2))*-1;\n            }else {\n              this.NEWCPL = Number((Number(data.price-this.average)*this.stepperMax*this.priceperpoint*this.rate).toFixed(2));\n            }\n          }\n        },\n        // changeShow(newVal){\n        //   this.instrumentid =newVal.instrumentid\n        //   console.log(this.instrumentid,'54545')\n        //   this.upTitle =newVal.upTitle\n        //   this.stepperMax =newVal.MaxVolume\n        //   this.directionClose =newVal.directionClose\n        //   this.positionid =newVal.positionid\n        //   this.commission =newVal.commission\n        //   this.margin =newVal.margin\n        //   this.averageClose =newVal.average\n        //   this.uid =newVal.userid\n        //   this.handdleMsg(this.instrumentid)\n        // }\n      },\n      created(){\n        // this.discUrl = '47.74.187.199'\n        // this.getContract()\n        // this.handdleMsg()\n        console.log(this.upTitle)\n        let routeData = this.$route.params\n        this.instrumentid = routeData.instrumentid\n        this.name = routeData.name\n        this.nameEN = routeData.nameEN\n        this.digits = routeData.digits\n        this.priceperpoint = routeData.priceperpoint\n        this.rate = routeData.rate\n        this.directionClose = routeData.directionClose\n        this.positionid = routeData.positionid\n        this.margin = routeData.margin\n        this.commission = routeData.commission\n        this.tick = routeData.tick\n        this.digits = routeData.digits\n        this.uid = this.$route.params.userid\n        this.average = this.$route.params.average\n        this.groupid = this.$route.params.groupid\n        this.stepperMax = routeData.MaxVolume\n        this.Max = routeData.MaxVolume\n        let tickCopy = JSON.parse(localStorage.getItem('tickCopy'))\n        let tickCopyData = tickCopy[this.instrumentid]\n        console.log(tickCopy[this.instrumentid])\n        this.newClose = (tickCopyData.price).toFixed(this.digits)\n        this.bidPrice = (tickCopyData.bidprice).toFixed(this.digits)\n        this.askPrice = (tickCopyData.askprice).toFixed(this.digits)\n        this.add = (tickCopyData.price-tickCopyData.preclose).toFixed(this.digits)\n        if(tickCopyData.preclose === 0){\n          this.diffPriceRate = '--'\n        }else {\n          this.diffPriceRate = (((Number(tickCopyData.price)-Number(tickCopyData.preclose))/tickCopyData.preclose)*100).toFixed(this.digits)+'%';\n        }\n        console.log(tickCopyData.price,this.average,this.stepperMax,this.priceperpoint,'this.directionClose')\n        if(this.directionClose === '卖'){\n          this.NEWCPL = (((tickCopyData.price-Number(this.average))*this.stepperMax*this.priceperpoint*this.rate).toFixed(2))*-1;\n        }else {\n          this.NEWCPL = (((tickCopyData.price-Number(this.average))*this.stepperMax*this.priceperpoint*this.rate).toFixed(2));\n        }\n        this.handdleMsg()\n      },\n      methods:{\n        // 弹出框-卖出\n        // 弹出框-平仓\n        closePosition () {\n          this.showClosePosition = true\n          this.bondClose = (this.margin/this.stepperMax)*this.stepper\n          console.log(this.$route.params.commissionClose)\n          let dis = EP.decrypt(localStorage.getItem('discount'),'')\n          let discount = JSON.parse(dis)\n          if(JSON.stringify(discount.data) !== '{}'){\n            for(let i in discount.data) {\n              if(i === this.groupid){\n                console.log(discount.data[i])\n                this.serviceChargeClose = (((this.$route.params.commissionClose)*discount.data[i])/100)*this.stepper\n              }\n            }\n          }else {\n            console.log(111188888)\n            this.serviceChargeClose = (this.$route.params.commissionClose)*this.stepper\n          }\n        },\n        quickOrder(a){\n          console.log(a)\n          this.stepper = a\n          this.showClosePosition = true\n          this.bondClose = (this.margin/this.stepperMax)*this.stepper\n          let dis = EP.decrypt(localStorage.getItem('discount'),'')\n          let discount = JSON.parse(dis)\n          console.log(discount.data)\n          if(JSON.stringify(discount.data) !== '{}'){\n            for(let i in discount.data) {\n              if(i === this.groupid){\n                console.log(discount.data[i])\n                this.serviceChargeClose = (((this.$route.params.commissionClose)*discount.data[i])/100)*this.stepper\n              }\n            }\n          }else {\n            this.serviceChargeClose = (this.$route.params.commissionClose)*this.stepper\n          }\n        },\n        // 关闭上拉框\n        noShowSheet () {\n          this.$emit('contentStyle',this.styleClass,this.show);\n          localStorage.removeItem('positionid')\n          localStorage.removeItem('upTitle')\n          this.$router.push({\n            name:'trade',\n          })\n        },\n        // 获取初始持仓单\n        handdleMsg(msg) {\n          let that = this;\n          if (that.global.ws && that.global.ws.readyState === 1) {\n            that.global.ws.onopen = that.onopen()\n          }\n          that.global.ws.onmessage = function(res) {\n            that.websocketonmessage (res)\n          };\n        },\n        // 确认平仓\n        ConfirmClosing(){\n          let _this = this\n          this.global.ws.onopen = this.onopen3()\n          this.global.ws.onmessage = function(res) {\n            _this.websocketonmessage3 (res)\n          };\n        },\n        // 提交平仓\n        onopen3 () { // websocket连接后发送数据(send发送)\n          this.setOrderList(this.stepper)\n          let balance,direction,actions;\n          let that = this\n          let diff = that.stepper\n          let routeData = this.$route.params\n          if(this.directionClose === '买'){\n            direction = 0\n          }else if(this.directionClose === '卖'){\n            direction = 1\n          }\n          console.log(this.orderList)\n          if(this.orderList.length<=1){\n            balance = {\n              action: \"placeorder\",\n              reqID: 34,\n              data: {\n                id: null,\n                userid: that.uid,\n                settlementid: null,\n                source: null,\n                type: 1,\n                positionid: that.positionid[0],\n                instrumentid: that.instrumentid,\n                orderRef: \"9f538075-fff6-4e84-9fee-505ce91fecf6\",\n                ordersysid: null,\n                direction: direction,\n                volume: that.stepper,\n                volumeTraded: null,\n                priceType: 1,\n                limitPrice: 0,\n                distanceStopPrice: null,\n                distanceProfitPrice: null,\n                status: null,\n                closed: null,\n                frozenMargin: null,\n                frozenMarginMember: null,\n                tradingDay: null,\n                createtime: null,\n                updatetime: null,\n                canceltime: null,\n                hedge: null,\n                hedgeChannel: null,\n                distanceStop: 0.0,\n                distanceProfit: 0.0\n              }\n            }\n            console.log(balance,'balance')\n            that.global.ws.send(JSON.stringify(balance))\n          }else {\n            let sum = 0\n            for (let i=0,len = this.orderList.length;i<len;i++){\n              balance = {\n                action: \"placeorder\",\n                reqID: 34,\n                data: {\n                  id: null,\n                  userid: that.uid,\n                  settlementid: null,\n                  source: null,\n                  type: 1,\n                  positionid: that.orderList[i].id,\n                  instrumentid: that.instrumentid,\n                  orderRef: \"9f538075-fff6-4e84-9fee-505ce91fecf6\",\n                  ordersysid: null,\n                  direction: direction,\n                  volume: that.orderList[i].volume,\n                  volumeTraded: null,\n                  priceType: 1,\n                  limitPrice: 0,\n                  distanceStopPrice: null,\n                  distanceProfitPrice: null,\n                  status: null,\n                  closed: null,\n                  frozenMargin: null,\n                  frozenMarginMember: null,\n                  tradingDay: null,\n                  createtime: null,\n                  updatetime: null,\n                  canceltime: null,\n                  hedge: null,\n                  hedgeChannel: null,\n                  distanceStop: 0.0,\n                  distanceProfit: 0.0\n                }\n              }\n              if(i<this.orderList.length-1){\n                sum = sum + this.orderList[i].volume\n              }\n              if(i === this.orderList.length-1){\n                balance = {\n                  action: \"placeorder\",\n                  reqID: 34,\n                  data: {\n                    id: null,\n                    userid: this.uid,\n                    settlementid: null,\n                    source: null,\n                    type: 1,\n                    positionid: that.orderList[i].id,\n                    instrumentid: this.instrumentid,\n                    orderRef: \"9f538075-fff6-4e84-9fee-505ce91fecf6\",\n                    ordersysid: null,\n                    direction: direction,\n                    volume: diff-sum,\n                    volumeTraded: null,\n                    priceType: 1,\n                    limitPrice: 0,\n                    distanceStopPrice: null,\n                    distanceProfitPrice: null,\n                    status: null,\n                    closed: null,\n                    frozenMargin: null,\n                    frozenMarginMember: null,\n                    tradingDay: null,\n                    createtime: null,\n                    updatetime: null,\n                    canceltime: null,\n                    hedge: null,\n                    hedgeChannel: null,\n                    distanceStop: 0.0,\n                    distanceProfit: 0.0\n                  }\n                }\n              }\n              that.global.ws.send(JSON.stringify(balance))\n            }\n          }\n          Toast.loading({\n            message: that.$t('quickC'),\n            duration: 0,\n            mask:true,\n            forbidClick: true,\n            onClose() {\n              that.$router.push({\n                name:'blank'\n              })\n              Toast({\n                message: that.$t('quickCS'),\n                position:'bottom',\n                duration: 2000,\n              })\n            }\n          });\n        },\n        // 接收平仓回传\n        websocketonmessage3(e){\n          let that = this\n          this.redata = JSON.parse(e.data)\n          console.log(this.redata,'1111')\n          if(this.redata.action === 'placeorder'){\n            if(this.redata.data.code === 0){\n\n            }else {\n              Toast.fail({\n                message: that.redata.data.msg,\n                duration: 1000,\n                onClose() {\n                  that.$router.push({\n                    name:'blank'\n                  })\n                }\n              });\n            }\n          }\n          if(this.redata.action === 'notifitrade' ||this.redata.action === 'notifiorder'){\n            console.log(this.redata)\n            this.tsNum++\n            console.log(that.tsNum)\n              if(that.tsNum >= that.orderList.length){\n                console.log('平仓完成')\n                Toast.clear();\n              }\n          }\n        },\n        // 获取详细订单\n        onopen () { // websocket连接后发送数据(send发送)\n          let actions;\n          let that = this\n          actions = {\n            action: \"loadposition\",\n            reqID: 45,\n            data: {\n              userId : that.uid,\n            },\n          }\n          that.global.ws.send(JSON.stringify(actions))\n        },\n        // 接收详细订单\n        websocketonmessage (e) { // 数据接收\n          this.redata = JSON.parse(e.data)\n          console.log(this.redata)\n          if(this.redata.action === \"notifitrade\" && this.redata.data != null){\n            this.$router.push({\n              name:'blank'\n            })\n          }\n          if(this.redata.action === \"loadposition\" && this.redata.data.code === 0 && this.redata.data.object != null){\n            for(let i=0,len = this.redata.data.object.length;i<len;i++){\n              if(this.instrumentid === this.redata.data.object[i].instrumentid){\n                console.log(this.redata.data.object[i])\n                this.redata.data.object[i].volume = this.redata.data.object[i].volume - this.redata.data.object[i].volumeClosed -this.redata.data.object[i].volumeFrozen\n                this.detailedData.push(this.redata.data.object[i])\n              }\n            }\n          }\n\n        },\n        setOrderList(a){\n          let sarr = a\n          let idx = 0\n          let arr = this.detailedData\n          console.log(arr,'a')\n          console.log(this.detailedData)\n          this.factorial(arr,sarr,idx)\n        },\n        factorial(arr,sarr,idx){\n          this.orderList.push(arr[idx])\n          if(arr[idx].volume >= sarr){\n            return arr[idx].volume\n          }else {\n            return this.factorial(arr,sarr-arr[idx].volume,idx+1)\n          }\n        },\n      }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n  @import \"../../../style/trade\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/trade/components/closeSheet.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"actionSheet\"},[_c('van-action-sheet',{staticClass:\"sheet-box\",attrs:{\"round\":\"\",\"overlay\":\"\"},on:{\"cancel\":_vm.noShowSheet,\"click-overlay\":_vm.noShowSheet},model:{value:(_vm.sheetTradeShow),callback:function ($$v) {_vm.sheetTradeShow=$$v},expression:\"sheetTradeShow\"}},[_c('div',{staticClass:\"sheet-content\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"name\"},[_c('div',{class:_vm.$i18n.locale === 'en'?'name-en':''},[_vm._v(_vm._s(_vm.$i18n.locale === 'en'?_vm.nameEN:_vm.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#808080\"}},[_vm._v(_vm._s(_vm.instrumentid))])]),_vm._v(\" \"),_c('div',{staticClass:\"close\"},[_c('div',{style:({color:_vm.add<0?_vm.$t('fall'):_vm.$t('rise')})},[_vm._v(_vm._s(_vm.newClose))]),_vm._v(\" \"),_c('div',{style:({color:_vm.add<0?_vm.$t('fall'):_vm.$t('rise')})},[(_vm.add > 0)?_c('span',[_vm._v(\"+\")]):_vm._e(),_vm._v(_vm._s(_vm.add)+\" \"+_vm._s(_vm.diffPriceRate))])]),_vm._v(\" \"),_c('div',{staticClass:\"BAPrice\"},[_c('div',[_vm._v(_vm._s(_vm.$t('Buy'))+\"：\"),_c('span',{staticStyle:{\"color\":\"#FD4F50\"}},[_vm._v(_vm._s(_vm.bidPrice))])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.$t('Sell'))+\"：\"),_c('span',{staticStyle:{\"color\":\"#0CAD6B\"}},[_vm._v(_vm._s(_vm.askPrice))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"name1\"},[_c('div',[_vm._v(_vm._s(_vm.$t('AveragePrice')))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.average))])]),_vm._v(\" \"),_c('div',{staticClass:\"name1\"},[_c('div',[_vm._v(_vm._s(_vm.$t('Number')))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.stepperMax))])]),_vm._v(\" \"),_c('div',{staticClass:\"name1\"},[_c('div',[_vm._v(_vm._s(_vm.$t('PL')))]),_vm._v(\" \"),_c('div',{style:({color:_vm.NEWCPL<0?_vm.$t('fall'):_vm.$t('rise')})},[_vm._v(\"$\"+_vm._s(_vm.NEWCPL))])])]),_vm._v(\" \"),_c('div',{staticClass:\"number number-but\",staticStyle:{\"color\":\"#222\"}},[_c('div',{staticClass:\"number-title\"},[_vm._v(_vm._s(_vm.$t('quickClosing')))]),_vm._v(\" \"),_c('van-button',{attrs:{\"disabled\":_vm.stepperMax>=1?false:true},on:{\"click\":function($event){return _vm.quickOrder(1)}}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"disabled\":_vm.stepperMax>=2?false:true},on:{\"click\":function($event){return _vm.quickOrder(2)}}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"disabled\":_vm.stepperMax>=3?false:true},on:{\"click\":function($event){return _vm.quickOrder(3)}}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"disabled\":_vm.stepperMax>=4?false:true},on:{\"click\":function($event){return _vm.quickOrder(4)}}},[_vm._v(\"4\")]),_vm._v(\" \"),_c('van-button',{attrs:{\"disabled\":_vm.stepperMax>=5?false:true},on:{\"click\":function($event){return _vm.quickOrder(5)}}},[_vm._v(\"5\")]),_vm._v(\" \"),_c('van-button',{staticClass:\"all-but\",on:{\"click\":function($event){return _vm.quickOrder(_vm.Max)}}},[_vm._v(_vm._s(_vm.$t('whole')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_c('div',{staticClass:\"number-title1\",staticStyle:{\"color\":\"#222\"},style:({'margin-right':_vm.$i18n.locale === 'en'?'0':''})},[_vm._v(_vm._s(_vm.$t('Number')))]),_vm._v(\" \"),_c('van-stepper',{attrs:{\"max\":_vm.stepperMax},model:{value:(_vm.stepper),callback:function ($$v) {_vm.stepper=$$v},expression:\"stepper\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"sheet-but\"},[_c('div',{on:{\"click\":_vm.closePosition}},[_vm._v(_vm._s(_vm.$t('CloseP')))])])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog\"},[_c('div',{staticClass:\"sellOut\"},[_c('van-dialog',{attrs:{\"closeOnPopstate\":\"\",\"show-cancel-button\":\"\",\"cancel-button-text\":_vm.$t('cancel'),\"cancelButtonColor\":\"#8C8B8B\",\"confirmButtonColor\":\"#1988FF\",\"show-confirm-button\":\"\",\"confirm-button-text\":_vm.$t('ConfirmC')},on:{\"confirm\":_vm.ConfirmClosing},model:{value:(_vm.showClosePosition),callback:function ($$v) {_vm.showClosePosition=$$v},expression:\"showClosePosition\"}},[_c('div',{staticClass:\"dia-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.$t('OrderInform')))]),_vm._v(\" \"),_c('div',{staticClass:\"dia-content\",attrs:{\"slot\":\"default\"},slot:\"default\"},[_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('Name'))+\"：\")]),_vm._v(\" \"),_c('div',{staticClass:\"dia-content-title\"},[_vm._v(_vm._s(_vm.$i18n.locale === 'en'?_vm.nameEN:_vm.name))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('code'))+\"：\")]),_vm._v(\" \"),_c('div',{staticClass:\"dia-content-title1\"},[_vm._v(_vm._s(_vm.instrumentid))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('direction'))+\"：\")]),_vm._v(\" \"),_c('div',[_c('span',{style:({color:_vm.directionClose === '买'? '#FD4F50':'#0CAD6B'})},[_vm._v(_vm._s(_vm.directionClose === '买'?_vm.$t('buy'):_vm.$t('sell')))])])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('PL'))+\"($)：\")]),_vm._v(\" \"),_c('div',{style:({color:_vm.NEWCPL<0?'#0CAD6B':'#FD4F50'})},[_vm._v(\" \"+_vm._s(_vm.NEWCPL))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('LatestPrice'))+\"：\")]),_vm._v(\" \"),_c('div',{style:({color:_vm.add<0?'#0CAD6B':'#FD4F50'})},[_vm._v(_vm._s(_vm.newClose))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('AveragePrice'))+\"：\")]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.average))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('Qty'))+\"：\")]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.stepper))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('margin'))+\"：\")]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.bondClose))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.$t('ServiceCharge'))+\"：\")]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.serviceChargeClose))])])])])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a9555f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/trade/components/closeSheet.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a9555f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./closeSheet.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./closeSheet.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./closeSheet.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a9555f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./closeSheet.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a9555f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/trade/components/closeSheet.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}