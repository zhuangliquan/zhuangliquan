webpackJsonp([59],{A5qV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("eqfM");var n=a("/QYm"),i=a("qorP"),o=a("PUIo"),s={name:"recharge",data:function(){return{discUrl:"",userId:"",token:"",channel:null,rate:"",peaceTreaty:0,money:"",sexValue:"",sexValueIdx:0,bankName:"",paymentList:[],formDataList:{},formData:{},Url:"",action:"",paymentData:{},disabledPay:!1,payOff:!0,link:["0x412425619234f23de1d62bd965ac54831651b2f5","1Nsnw9fegYxJS2wZQ3rsRQuNxxZY558fX2","TLyrgfEFG7Zr9jG4vMnttPEBh7SzXSadUw"],link1:["1MGNAm1P2o3jT2rWbVKb8X5VSsttbSz4Dr"],value1:0,option1:[]}},components:{vueQr:a.n(o).a},created:function(){this.discUrl=localStorage.getItem("discUrl"),this.token=localStorage.getItem("token"),this.userId=localStorage.getItem("uid"),this.getPayment()},methods:{copyNumber:function(t){var e=this;Object(i.a)(t,event,function(){alert(e.$t("CP1"))},function(){alert(e.$t("CP2"))})},linkHome:function(){this.$router.push({name:"my"})},getPayment:function(){var t=this;this.$axios.get("http://"+this.discUrl+":7777/api/pay/configs?userId="+this.userId+"&token="+this.token).then(function(e){if(null!=e.data.object){for(var a=e.data.object.channels,i=0,o=a.length;i<o;i++){var s={};s.text=a[i].paychannel,s.value=i,t.option1.push(s)}t.paymentList=e.data.object.channels,t.rate=e.data.object.rate}else Object(n.a)({message:e.data.msg,duration:1e3,position:"bottom"})})},changePay:function(t){var e=this;if(""!==this.money){n.a.loading({message:"正在确认支付信息...",forbidClick:!0,duration:0}),this.sexValue=this.paymentList[t].payname;var a=this.paymentList[t].paychannel,i=this,o={userId:i.userId,token:i.token,bankName:"",money:i.money,type:1};this.$axios.post("http://"+this.discUrl+":7777/api/pay/preorder/"+a,o).then(function(t){n.a.clear(),0===t.data.code&&(e.paymentData=JSON.parse(t.data.object),"error"===e.paymentData.status&&Object(n.a)({position:"bottom",message:i.paymentData.msg,duration:1e3,onClose:function(){i.money="",i.sexValue=""}}))})}else Object(n.a)({duration:1500,message:"请输入充值金额！",position:"bottom"})},changeMoney:function(){this.peaceTreaty=(this.money/this.rate).toFixed(2)},ConfirmRecharge:function(){var t=this,e=this.option1[this.value1].text,a={userId:this.userId,token:this.token,bankName:"",money:this.money,type:1};""!==this.money?0===this.value1?this.$axios.post("http://"+this.discUrl+":7777/api/pay/preorder/"+e,a).then(function(a){0===a.data.code&&t.$router.push({name:"rechargeBTC",params:{data:t.link1,title:e}})}):this.$axios.post("http://"+this.discUrl+":7777/api/pay/preorder/"+e,a).then(function(a){0===a.data.code&&t.$router.push({name:"rechargeUSDT",params:{data:t.link,title:e}})}):Object(n.a)({message:this.$t("IRAmount"),position:"bottom",duration:2e3})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recharge"},[a("div",{staticClass:"withdrawal-bar"},[a("van-nav-bar",{attrs:{title:t.$t("Recharge"),"left-arrow":""},on:{"click-left":t.linkHome}})],1),t._v(" "),a("div",{staticClass:"withdrawal-content"},[a("div",{staticClass:"withdrawal-name"},[t._v(t._s(t.$t("RAmount")))]),t._v(" "),a("div",{staticClass:"withdrawal-input"},[a("van-cell-group",[a("van-field",{attrs:{type:"number",placeholder:t.$t("RAmount")},on:{input:t.changeMoney},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}},[a("div",{staticClass:"input-icon",attrs:{slot:"left-icon"},slot:"left-icon"},[t._v("$")])])],1)],1),t._v(" "),a("div",{staticClass:"withdrawal-name"},[t._v(t._s(t.$t("RAF")))]),t._v(" "),a("div",{staticClass:"recharge-content"},[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:t.option1},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)],1),t._v(" "),a("div",{staticClass:"withdrawal-but",on:{click:t.ConfirmRecharge}},[t._v(t._s(t.$t("CR")))])]),t._v(" "),a("router-view")],1)},staticRenderFns:[]};var c=a("VU/8")(s,r,!1,function(t){a("m4pk")},"data-v-25a67c6a",null);e.default=c.exports},m4pk:function(t,e){}});
//# sourceMappingURL=59.1f1406569d913dfb6101.js.map