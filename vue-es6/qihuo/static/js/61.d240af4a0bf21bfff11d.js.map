{"version":3,"sources":["webpack:///src/views/trade/components/PLSheet.vue","webpack:///./src/views/trade/components/PLSheet.vue?3be8","webpack:///./src/views/trade/components/PLSheet.vue"],"names":["PLSheet","name","data","nameEN","sheetStopShow","showStopProfit","showStopLoss","stopProfit","stopLoss","positionid","instrumentid","newClose","bidPrice","askPrice","add","diffPriceRate","average","volume","direction","priceperpoint","NEWCPL","tick","tickCopyData","showWinPrice","showLosePrice","props","tradeTab","type","Number","appTick","Array","watch","newVal","JSON","parse","localStorage","tickCopy","this","undefined","price","toFixed","digits","bidprice","askprice","preclose","rate","created","routeData","$route","params","winPrice","losePrice","NEWPRICE","getItem","methods","sellOut","showSellOut","closePosition","showClosePosition","noShowSheet","$emit","removeItem","$router","push","PLshow","handdleMsg","msg","Object","toast","message","$t","duration","position","_that","global","ws","readyState","onopen","onmessage","res","websocketonmessage","actions","i","len","length","action","reqID","send","stringify_default","e","redata","that","code","success","onClose","fail","components_PLSheet","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","overlay","round","on","cancel","click-overlay","model","value","callback","$$v","expression","class","$i18n","locale","_v","_s","staticStyle","color","style","_e","click","$event","default-value","min","step","decimal-length","background-color","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/61.d240af4a0bf21bfff11d.js","sourcesContent":["<template>\n  <div class=\"actionSheet\">\n    <van-action-sheet v-model=\"sheetStopShow\" overlay class=\"sheet-box sheet-trade\" round     @cancel=\"noShowSheet\" @click-overlay=\"noShowSheet\">\n      <div class=\"sheet-content \">\n        <div class=\"title\">\n          <div class=\"name\">\n            <div :class=\"$i18n.locale === 'en'?'name-en':''\">{{$i18n.locale !== 'zh'?nameEN:name}}</div>\n            <div style=\"color: #808080\">{{instrumentid}}</div>\n          </div>\n          <div class=\"close\">\n            <div :style=\"{color:add<0?$t('fall'):$t('rise')}\">{{newClose}}</div>\n            <div :style=\"{color:add<0?$t('fall'):$t('rise')}\"><span v-if=\"add > 0\">+</span>{{add}} {{diffPriceRate}}</div>\n          </div>\n          <div class=\"BAPrice\">\n            <div>{{$t('Buy')}}：<span style=\"color:#FD4F50\">{{bidPrice}}</span></div>\n            <div>{{$t('Sell')}}：<span style=\"color: #0CAD6B\">{{askPrice}}</span></div>\n          </div>\n        </div>\n        <div class=\"title\">\n          <div class=\"name1\">\n            <div>{{$t('AveragePrice')}}</div>\n            <div >{{average}}</div>\n          </div>\n          <div class=\"name1\">\n            <div>{{$t('Number')}}</div>\n            <div>{{volume}}</div>\n          </div>\n          <div class=\"name1\">\n            <div>{{$t('PL')}}</div>\n            <div :style=\"{color:add<0?$t('fall'):$t('rise')}\">${{NEWCPL}}</div>\n          </div>\n        </div>\n        <div class=\"number\" >\n          <div :class=\"$i18n.locale === 'en'?'en-number-title':''\">{{$t('SP')}}：</div>\n          <div @click=\"showStopProfit = false\" v-if=\"showStopProfit\" :class=\"$i18n.locale === 'en'?'en-showStopProfit showStopProfit':'showStopProfit'\">\n            <div class=\"showStopProfit__minus\"></div>\n            <div :class=\"$i18n.locale === 'en'?'showStopProfit__minus-content en-content':'showStopProfit__minus-content'\" >{{$t('inpSP')}}</div>\n            <div class=\"showStopProfit__plus\"></div>\n          </div>\n          <van-stepper :class=\"$i18n.locale === 'en'?'en-stepper':''\" v-else  default-value=\"请输入止盈价\" v-model=\"stopProfit\" :min=\"tick\" :step=\"tick\" :decimal-length=\"digits\"/>\n<!--          <div class=\"sheet-trade-but\" >取消设置</div>-->\n        </div>\n        <div class=\"number\" >\n          <div :class=\"$i18n.locale === 'en'?'en-number-title':''\">{{$t('SL')}}：</div>\n          <div @click=\"showStopLoss = false\" v-if=\"showStopLoss\" :class=\"$i18n.locale === 'en'?'en-showStopProfit showStopProfit':'showStopProfit'\">\n            <div class=\"showStopProfit__minus\"></div>\n            <div :class=\"$i18n.locale === 'en'?'showStopProfit__minus-content en-content':'showStopProfit__minus-content'\"  >{{$t('inpSL')}}</div>\n            <div class=\"showStopProfit__plus\"></div>\n          </div>\n          <van-stepper :class=\"$i18n.locale === 'en'?'en-stepper':''\" v-else default-value=\"请输入止损价\" v-model=\"stopLoss\" :min=\"tick\" :step=\"tick\" :decimal-length=\"digits\"/>\n<!--          <div class=\"sheet-trade-but\" style=\"border-color: #FF7100;background-color: #FF7100;color: white\" @click=\"handdleMsg\">设置</div>-->\n        </div>\n        <div class=\"PL-but\">\n          <van-button style=\"background-color: #EBEBEB;color: #666666\" class=\"sheet-trade-but\" to=\"/trade\">{{$t('cancel')}}</van-button>\n          <van-button style=\"background-color: #2E8CFF;color: #fff\" class=\"sheet-trade-but\" @click=\"handdleMsg\">{{$t('SetUp')}}</van-button>\n        </div>\n      </div>\n    </van-action-sheet>\n  </div>\n</template>\n\n<script>\n  import { Toast } from 'vant';\n    export default {\n      name: \"PLSheet\",\n      data(){\n        return{\n          name:'',\n          nameEN:'',\n          sheetStopShow:'',\n          showStopProfit:true,\n          showStopLoss:true,\n          stopProfit:null,\n          stopLoss:null,\n          // 传给父组件的值\n          // 持仓ID\n          positionid:'',\n          instrumentid:'',\n          newClose:0,\n          bidPrice:0,\n          askPrice:0,\n          add:0,\n          diffPriceRate:'0.00%',\n          average:0,\n          volume:0,\n          direction:'',\n          priceperpoint:0,\n          NEWCPL:0,\n          tick:0,\n          tickCopyData:'',\n          showWinPrice:'',\n          showLosePrice:''\n        }\n      },\n      props:{\n        tradeTab:{\n          type:Number\n        },\n        appTick:{\n          type:Array,\n        },\n      },\n      watch: {\n        appTick(newVal) {\n          if(JSON.parse(localStorage.tickCopy) !== ''){\n            this.tickCopyData = JSON.parse(localStorage.tickCopy)\n          }\n          if (this.tickCopyData[this.instrumentid] !== undefined) {\n            let data = this.tickCopyData[this.instrumentid]\n            this.newClose = (data.price).toFixed(this.digits)\n            this.bidPrice = (data.bidprice).toFixed(this.digits)\n            this.askPrice = (data.askprice).toFixed(this.digits)\n            this.add = (data.price-data.preclose).toFixed(this.digits)\n            if(data.preclose === 0){\n              this.diffPriceRate = '--'\n            }else {\n              this.diffPriceRate = (((Number(data.price)-Number(data.preclose))/data.preclose)*100).toFixed(this.digits)+'%';\n            }\n            if(this.direction === '卖'){\n              this.NEWCPL = Number((Number(data.price-this.average)*this.volume*this.priceperpoint*this.rate).toFixed(2))*-1;\n            }else {\n              this.NEWCPL = Number((Number(data.price-this.average)*this.volume*this.priceperpoint*this.rate).toFixed(2));\n            }\n          }\n        }\n      },\n      created(){\n        let routeData = this.$route.params\n        this.name = routeData.name\n        this.nameEN = routeData.nameEN\n        this.positionid = routeData.positionid\n        this.instrumentid = routeData.instrumentid\n        this.digits = routeData.digits\n        this.average = routeData.average\n        this.volume = routeData.volume\n        this.direction = routeData.direction\n        this.rate = routeData.rate\n        this.priceperpoint = routeData.priceperpoint\n        this.tick = routeData.tick\n        this.showWinPrice = routeData.winPrice\n        this.showLosePrice = routeData.losePrice\n        if(this.showWinPrice !== 0 ){\n          this.showStopProfit = false\n          this.stopProfit = this.showWinPrice\n        }else {\n          this.stopProfit = routeData.NEWPRICE\n        }\n        if(this.showLosePrice !== 0){\n          this.showStopLoss = false\n          this.stopLoss = this.showLosePrice\n        }else {\n          this.stopLoss = routeData.NEWPRICE\n        }\n        // this.stopProfit = ''\n        // this.stopLoss = ''\n        let tickCopy = JSON.parse(localStorage.getItem('tickCopy'))\n        let tickCopyData = tickCopy[this.instrumentid]\n        console.log(tickCopy[this.instrumentid])\n        this.newClose = (tickCopyData.price).toFixed(this.digits)\n        this.bidPrice = (tickCopyData.bidprice).toFixed(this.digits)\n        this.askPrice = (tickCopyData.askprice).toFixed(this.digits)\n        this.add = (tickCopyData.price-tickCopyData.preclose).toFixed(this.digits)\n        if(tickCopyData.preclose === 0){\n          this.diffPriceRate = '--'\n        }else {\n          this.diffPriceRate = (((Number(tickCopyData.price)-Number(tickCopyData.preclose))/tickCopyData.preclose)*100).toFixed(this.digits)+'%';\n        }\n        if(this.direction === '卖'){\n          this.NEWCPL = ((tickCopyData.price-this.average*this.volume*this.priceperpoint*this.rate).toFixed(2))*-1;\n        }else {\n          this.NEWCPL = (((tickCopyData.price-this.average)*this.volume*this.priceperpoint*this.rate).toFixed(2));\n        }\n      },\n      methods:{\n        // 弹出框-卖出\n        sellOut () {\n          this.showSellOut = true\n        },\n        // 弹出框-平仓\n        closePosition () {\n          this.showClosePosition = true\n        },\n        noShowSheet () {\n          this.$emit('contentStyle','start');\n          localStorage.removeItem('upTitle')\n          localStorage.removeItem('positionid')\n          this.$router.push({\n            name:'trade',\n            params:{\n              PLshow:true\n            }\n          })\n        },\n        // 设置止盈止损\n        handdleMsg(msg) {\n          let that = this\n          if(this.showStopProfit && this.showStopLoss){\n            Toast({\n              message:that.$t('PLMessage'),\n              duration:2000,\n              position:'bottom'\n            })\n          }else {\n            let that = this;\n            if (that.global.ws && that.global.ws.readyState == 1) {\n              console.log(\"发送信息\", msg);\n              that.global.ws.onopen = that.onopen()\n            }\n            that.global.ws.onmessage = function(res) {\n              that.websocketonmessage (res)\n            };\n          }\n        },\n        // 获取详细订单\n        onopen () { // websocket连接后发送数据(send发送)\n          let actions;\n          let that = this\n          console.log(this.showStopProfit,this.showStopLoss,112121)\n          for(let i=0,len = that.positionid.length;i<len;i++){\n            that.positionid[i] = Number(that.positionid[i])\n            if(this.showStopProfit && !this.showStopLoss){\n              actions = {\n                action: \"positionstopwin\",\n                reqID: 82,\n                data: {\n                  positionid:that.positionid[i],\n                  losePrice:Number(that.stopLoss),\n                  winPrice:0\n                }\n              }\n            }\n            if(!this.showStopProfit && this.showStopLoss){\n              actions = {\n                action: \"positionstopwin\",\n                reqID: 82,\n                data: {\n                  positionid:that.positionid[i],\n                  losePrice:0,\n                  winPrice:that.stopProfit\n                }\n              }\n            }\n            if(!this.showStopProfit && !this.showStopLoss){\n              actions = {\n                action: \"positionstopwin\",\n                reqID: 82,\n                data: {\n                  positionid:that.positionid[i],\n                  losePrice:that.stopLoss,\n                  winPrice:that.stopProfit\n                }\n              }\n            }\n            // actions = {\n            //   action: \"positionstopwin\",\n            //   reqID: 82,\n            //   data: {\n            //     positionid:that.positionid[i],\n            //     losePrice:that.stopLoss,\n            //     winPrice:that.stopProfit\n            //   }\n            // }\n            that.global.ws.send(JSON.stringify(actions))\n            console.log(actions,'actions')\n          }\n        },\n        // 接收详细订单\n        websocketonmessage (e) { // 数据接收\n          this.redata = JSON.parse(e.data)\n          console.log(this.redata)\n          let that = this\n          if(this.redata.action === 'positionstopwin'){\n            if(this.redata.data.code === 0){\n              Toast.success({\n                duration:1000,\n                message:that.$t('PLSMessage'),\n                onClose(){\n                  that.$router.push({\n                    name:'blank'\n                  })\n                }\n              })\n            }else {\n              switch (that.redata.data.msg) {\n                case '止盈价必须大于止损价':\n                  Toast.fail({\n                    duration:1000,\n                    message:that.$t('failMessage1')\n                  })\n                  break;\n                case '止盈价必须大于当前价':\n                  Toast.fail({\n                    duration:1000,\n                    message:that.$t('failMessage2')\n                  })\n                  break;\n                case '止损价必须小于当前价':\n                  Toast.fail({\n                    duration:1000,\n                    message:that.$t('failMessage3')\n                  })\n                  break;\n                case '止盈价必须小于止损价':\n                  Toast.fail({\n                    duration:1000,\n                    message:that.$t('failMessage4')\n                  })\n                  break;\n              }\n            }\n          }\n        },\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/trade/components/PLSheet.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"actionSheet\"},[_c('van-action-sheet',{staticClass:\"sheet-box sheet-trade\",attrs:{\"overlay\":\"\",\"round\":\"\"},on:{\"cancel\":_vm.noShowSheet,\"click-overlay\":_vm.noShowSheet},model:{value:(_vm.sheetStopShow),callback:function ($$v) {_vm.sheetStopShow=$$v},expression:\"sheetStopShow\"}},[_c('div',{staticClass:\"sheet-content \"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"name\"},[_c('div',{class:_vm.$i18n.locale === 'en'?'name-en':''},[_vm._v(_vm._s(_vm.$i18n.locale !== 'zh'?_vm.nameEN:_vm.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#808080\"}},[_vm._v(_vm._s(_vm.instrumentid))])]),_vm._v(\" \"),_c('div',{staticClass:\"close\"},[_c('div',{style:({color:_vm.add<0?_vm.$t('fall'):_vm.$t('rise')})},[_vm._v(_vm._s(_vm.newClose))]),_vm._v(\" \"),_c('div',{style:({color:_vm.add<0?_vm.$t('fall'):_vm.$t('rise')})},[(_vm.add > 0)?_c('span',[_vm._v(\"+\")]):_vm._e(),_vm._v(_vm._s(_vm.add)+\" \"+_vm._s(_vm.diffPriceRate))])]),_vm._v(\" \"),_c('div',{staticClass:\"BAPrice\"},[_c('div',[_vm._v(_vm._s(_vm.$t('Buy'))+\"：\"),_c('span',{staticStyle:{\"color\":\"#FD4F50\"}},[_vm._v(_vm._s(_vm.bidPrice))])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.$t('Sell'))+\"：\"),_c('span',{staticStyle:{\"color\":\"#0CAD6B\"}},[_vm._v(_vm._s(_vm.askPrice))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"name1\"},[_c('div',[_vm._v(_vm._s(_vm.$t('AveragePrice')))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.average))])]),_vm._v(\" \"),_c('div',{staticClass:\"name1\"},[_c('div',[_vm._v(_vm._s(_vm.$t('Number')))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.volume))])]),_vm._v(\" \"),_c('div',{staticClass:\"name1\"},[_c('div',[_vm._v(_vm._s(_vm.$t('PL')))]),_vm._v(\" \"),_c('div',{style:({color:_vm.add<0?_vm.$t('fall'):_vm.$t('rise')})},[_vm._v(\"$\"+_vm._s(_vm.NEWCPL))])])]),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_c('div',{class:_vm.$i18n.locale === 'en'?'en-number-title':''},[_vm._v(_vm._s(_vm.$t('SP'))+\"：\")]),_vm._v(\" \"),(_vm.showStopProfit)?_c('div',{class:_vm.$i18n.locale === 'en'?'en-showStopProfit showStopProfit':'showStopProfit',on:{\"click\":function($event){_vm.showStopProfit = false}}},[_c('div',{staticClass:\"showStopProfit__minus\"}),_vm._v(\" \"),_c('div',{class:_vm.$i18n.locale === 'en'?'showStopProfit__minus-content en-content':'showStopProfit__minus-content'},[_vm._v(_vm._s(_vm.$t('inpSP')))]),_vm._v(\" \"),_c('div',{staticClass:\"showStopProfit__plus\"})]):_c('van-stepper',{class:_vm.$i18n.locale === 'en'?'en-stepper':'',attrs:{\"default-value\":\"请输入止盈价\",\"min\":_vm.tick,\"step\":_vm.tick,\"decimal-length\":_vm.digits},model:{value:(_vm.stopProfit),callback:function ($$v) {_vm.stopProfit=$$v},expression:\"stopProfit\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_c('div',{class:_vm.$i18n.locale === 'en'?'en-number-title':''},[_vm._v(_vm._s(_vm.$t('SL'))+\"：\")]),_vm._v(\" \"),(_vm.showStopLoss)?_c('div',{class:_vm.$i18n.locale === 'en'?'en-showStopProfit showStopProfit':'showStopProfit',on:{\"click\":function($event){_vm.showStopLoss = false}}},[_c('div',{staticClass:\"showStopProfit__minus\"}),_vm._v(\" \"),_c('div',{class:_vm.$i18n.locale === 'en'?'showStopProfit__minus-content en-content':'showStopProfit__minus-content'},[_vm._v(_vm._s(_vm.$t('inpSL')))]),_vm._v(\" \"),_c('div',{staticClass:\"showStopProfit__plus\"})]):_c('van-stepper',{class:_vm.$i18n.locale === 'en'?'en-stepper':'',attrs:{\"default-value\":\"请输入止损价\",\"min\":_vm.tick,\"step\":_vm.tick,\"decimal-length\":_vm.digits},model:{value:(_vm.stopLoss),callback:function ($$v) {_vm.stopLoss=$$v},expression:\"stopLoss\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"PL-but\"},[_c('van-button',{staticClass:\"sheet-trade-but\",staticStyle:{\"background-color\":\"#EBEBEB\",\"color\":\"#666666\"},attrs:{\"to\":\"/trade\"}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_vm._v(\" \"),_c('van-button',{staticClass:\"sheet-trade-but\",staticStyle:{\"background-color\":\"#2E8CFF\",\"color\":\"#fff\"},on:{\"click\":_vm.handdleMsg}},[_vm._v(_vm._s(_vm.$t('SetUp')))])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20950dac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/trade/components/PLSheet.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20950dac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PLSheet.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PLSheet.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PLSheet.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20950dac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PLSheet.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20950dac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/trade/components/PLSheet.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}