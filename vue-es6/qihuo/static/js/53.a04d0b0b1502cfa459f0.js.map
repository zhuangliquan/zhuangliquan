{"version":3,"sources":["webpack:///src/views/my/accountManage/reconfirmFundPassword.vue","webpack:///./src/views/my/accountManage/reconfirmFundPassword.vue?54ef","webpack:///./src/views/my/accountManage/reconfirmFundPassword.vue"],"names":["reconfirmFundPassword","name","data","Password","showKeyboard","styleOff","styleClass","color","border-color","background-color","keying","code","phone","idCard","created","this","uid","localStorage","getItem","$route","params","encryption","decrypt","methods","onInput","key","slice","length","onDelete","linkHome","modify","$router","push","linkAccountManage","that","global","ws","readyState","onopen","setFundPass","onmessage","res","getFundPass","_that","Object","toast","position","message","$t","duration","onClose","actions","action","reqID","id","oldPass","nowPass","drawPass","send","stringify_default","e","redata","JSON","parse","setItem","Logout","accountManage_reconfirmFundPassword","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","left-arrow","on","click-left","_v","_s","value","focused","focus","$event","style","click","show","input","delete","blur","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/53.a04d0b0b1502cfa459f0.js","sourcesContent":["<template>\n  <div class=\"authentication\">\n    <div class=\"record-bar\">\n      <van-nav-bar\n        :title=\"$t('setFundPassword')\"\n        left-arrow\n        @click-left=\"linkHome\"\n      />\n    </div>\n    <div class=\"title\">{{$t('RsetFundPassword')}}</div>\n    <div class=\"input\">\n      <!-- 密码输入框 -->\n      <van-password-input\n        :value=\"Password\"\n        :focused=\"showKeyboard\"\n        @focus=\"showKeyboard = true\"\n      />\n      <div class=\"input-button\" :style=\"styleOff?styleClass:''\" @click=\"linkAccountManage\">{{$t('Confirm')}}</div>\n      <!-- 数字键盘 -->\n      <van-number-keyboard\n        :show=\"showKeyboard\"\n        @input=\"onInput\"\n        @delete=\"onDelete\"\n        @blur=\"showKeyboard = false\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\n  import { Toast } from 'vant';\n  import EP from '../../../utils/encryption'\nexport default {\n  name: 'reconfirmFundPassword',\n  data () {\n    return {\n      // 密码\n      Password: '',\n      // 键盘显示\n      showKeyboard: true,\n      styleOff: false,\n      styleClass: {color: '#fff', 'border-color': '#1988FF', 'background-color': '#1988FF'},\n      // 忘记资金密码\n      keying:'',\n      code:'',\n      phone:'',\n      idCard:''\n    }\n  },\n  created(){\n    this.uid = localStorage.getItem('uid')\n    this.keying = this.$route.params.keying\n    this.code = this.$route.params.code\n    this.phone = localStorage.getItem('phone')\n    let idCard = EP.decrypt(localStorage.getItem('idcard'),'')\n    this.idCard = idCard\n    console.log(this.$route.params.modify,'来自')\n    console.log(this.$route.params.Password,'第一次密码')\n    console.log(this.$route.params.keying)\n    console.log(this.$route.params.code)\n    // console.log(this.$route.params.oldPass)\n  },\n  methods: {\n    // 键盘输入事件\n    onInput (key) {\n      this.Password = (this.Password + key).slice(0, 6)\n      if (this.Password.length === 6) {\n        this.showKeyboard = false\n        this.styleOff = true\n      }\n      if (this.Password.length < 6) {\n        this.styleOff = false\n      }\n    },\n    // 键盘删除事件\n    onDelete () {\n      this.Password = this.Password.slice(0, this.Password.length - 1)\n      if (this.Password.length < 6) {\n        this.styleOff = false\n      }\n    },\n    // 返回上级\n    linkHome () {\n      if(this.$route.params.modify === 'forget'){\n        this.$router.push({\n          name:'forgetPassword'\n        })\n      }else {\n        this.$router.push({\n          name:'myManage'\n        })\n      }\n    },\n    // 回到账户管理首页\n    linkAccountManage () {\n      console.log(11111)\n      if(this.Password === this.$route.params.Password){\n        let that = this;\n        if (that.global.ws && that.global.ws.readyState == 1) {\n          that.global.ws.onopen = that.setFundPass()\n        }\n        that.global.ws.onmessage = function(res) {\n          that.getFundPass (res)\n        };\n      }else {\n        let that = this\n        Toast({\n          position:'bottom',\n          message:that.$t('towPasswordNo'),\n          duration:1500,\n          onClose(){\n            that.$router.push({\n              name: 'modifyFundPass',\n            })\n          }\n        })\n      }\n      // if (this.styleOff) {\n      //   this.$router.push({\n      //     name: 'myManage'\n      //   })\n      // }\n    },\n    setFundPass(){\n      let actions;\n      let that = this;\n      if(this.$route.params.modify === 'modify'){\n        actions = {\n          action: \"resetDrawPass\",\n          reqID: 62,\n          data: {\n            id: this.uid,\n            oldPass:this.$route.params.oldPass,\n            nowPass:this.Password\n          }\n        } // 请根据实际项目需要进行修改\n      }else if(this.$route.params.modify === 'forget'){\n        console.log('forget')\n        console.log(that.keying)\n        console.log(that.phone)\n        console.log(that.code)\n        console.log(that.idCard)\n        console.log(that.Password)\n        actions = {\n          action: \"forgetDrawPass\",\n          reqID: 63,\n          data: {\n            keying: that.keying,\n            code:that.code,\n            phone:that.phone,\n            idCard:that.idCard,\n            drawPass:that.Password\n          }\n        } // 请根据实际项目需要进行修改\n      }else {\n        actions = {\n          action: \"setDrawPass\",\n          reqID: 61,\n          data: {\n            id: this.uid,\n            drawPass:this.Password,\n          }\n        } // 请根据实际项目需要进行修改\n      }\n\n      that.global.ws.send(JSON.stringify(actions))\n    },\n    getFundPass(e){\n      this.redata = JSON.parse(e.data)\n      console.log(this.redata)\n      let that = this\n      if(this.redata.action === 'forgetDrawPass'){\n        if(this.redata.data.code === 0){\n          localStorage.setItem('isDrawPass','1')\n          Toast({\n            position:'bottom',\n            message:that.$t('RFPasswordS'),\n            duration:1000,\n            onClose(){\n              that.$router.push({\n                name: 'withdrawal',\n              })\n            }\n          })\n        }\n      }else if(this.redata.action === 'setDrawPass') {\n          if(this.redata.data.code === 0){\n            localStorage.setItem('isDrawPass','1')\n            Toast({\n              position:'bottom',\n              message:that.$t('fpwts'),\n              duration:2500,\n              onClose(){\n                that.Logout()\n              }\n            })\n          }\n      }else if(this.redata.action === 'resetDrawPass'){\n        if(this.redata.data.code === 0){\n          localStorage.setItem('isDrawPass','1')\n          Toast({\n            position:'bottom',\n            message:that.$t('fpwts'),\n            duration:2500,\n            onClose(){\n              that.Logout()\n            }\n          })\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import \"../../../style/my\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/my/accountManage/reconfirmFundPassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"authentication\"},[_c('div',{staticClass:\"record-bar\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.$t('setFundPassword'),\"left-arrow\":\"\"},on:{\"click-left\":_vm.linkHome}})],1),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('RsetFundPassword')))]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('van-password-input',{attrs:{\"value\":_vm.Password,\"focused\":_vm.showKeyboard},on:{\"focus\":function($event){_vm.showKeyboard = true}}}),_vm._v(\" \"),_c('div',{staticClass:\"input-button\",style:(_vm.styleOff?_vm.styleClass:''),on:{\"click\":_vm.linkAccountManage}},[_vm._v(_vm._s(_vm.$t('Confirm')))]),_vm._v(\" \"),_c('van-number-keyboard',{attrs:{\"show\":_vm.showKeyboard},on:{\"input\":_vm.onInput,\"delete\":_vm.onDelete,\"blur\":function($event){_vm.showKeyboard = false}}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c307120\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/my/accountManage/reconfirmFundPassword.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c307120\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./reconfirmFundPassword.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./reconfirmFundPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./reconfirmFundPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c307120\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./reconfirmFundPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c307120\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/my/accountManage/reconfirmFundPassword.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}