webpackJsonp([25],{"/C7Q":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=(s("10Qn"),s("UQoe")),c=s("7+uW"),r=s("cWLO"),l={data:function(){return{selltype:"买",HandCash2:0}},props:{tradeType:{type:String},showBsell:{type:Boolean},tickPrice:{type:Object},tickName:{type:String},value1:{},value2:{},priceType:{type:String},ticknameT2:{type:String},HandCash:{},mCash:{},Money:{},Hold2:{},diffPrice:{}},created:function(){this.selltype=this.$route.params.type,this.HandCash2=this.HandCash},destroyed:function(){},methods:{Back:function(){this.$emit("changeType",!1)},Gochange:function(){this.handdleMsg()},handdleMsg:function(){var e=this;e.global.ws&&1===e.global.ws.readyState&&(e.global.ws.onopen=e.onopen()),e.global.ws.onmessage=function(t){if("placeorder"===JSON.parse(t.data).action){var s=JSON.parse(t.data).data.msg;"OK"===s?s=e.$t("orderUp"):"合约不可交易"===s&&(s=e.$t("orderMsg")),e.$emit("backText",s)}"notifitrade"===JSON.parse(t.data).action&&(e.$emit("load"),"false"===e.$store.state.changeSave?e.$store.commit("changeSave","true"):e.$store.commit("changeSave","false"))}},onopen:function(){var e,t=0;this.tradeType===this.$t("sell")&&(t=1);var s=1;this.priceType===this.$t("FixedPrice")&&(s=0),e={action:"placeorder",reqID:6,data:{id:null,userid:null,settlementid:null,source:null,type:0,positionid:null,instrumentid:this.ticknameT2,orderRef:"b321ecab-d67d-450c-b2bb-b8caa233877d",ordersysid:null,direction:t,volume:this.value1,volumeTraded:null,priceType:s,limitPrice:this.value2,distanceStopPrice:null,distanceProfitPrice:null,status:null,closed:null,frozenMargin:null,frozenMarginMember:null,tradingDay:null,createtime:null,updatetime:null,canceltime:null,hedge:null,hedgeChannel:null,distanceStop:0,distanceProfit:0}},this.global.ws.send(a()(e))}},mounted:function(){var e=r.a.decrypt(localStorage.getItem("discount"),""),t=JSON.parse(e);for(var s in t.data)s==this.Hold2&&(this.HandCash2=this.HandCash*t.data[s]/100*this.value1)}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showBsell,expression:"showBsell"}],staticClass:"buyOrsell"},[s("transition",{attrs:{name:"buysell"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showBsell,expression:"showBsell"}],staticClass:"content"},[s("div",{staticClass:"news"},[e._v(e._s(e.$t("OrderInform")))]),e._v(" "),s("div",{staticClass:"contentBox"},[s("span",[e._v(e._s(e.$t("Name")))]),s("span",{staticClass:"conBox-span1"},[e._v(e._s(e.tickName))])]),e._v(" "),s("div",{staticClass:"contentBox"},[s("span",[e._v(e._s(e.$t("code")))]),s("span",{staticClass:"conBox-span2"},[e._v(e._s(e.tickPrice.instrumentid))])]),e._v(" "),s("div",{staticClass:"contentBox"},[s("span",[e._v(e._s(e.$t("direction"))+":")]),s("span",{style:{color:"卖"==e.tradeType?"#07B76F":"#FD4F50"},domProps:{innerHTML:e._s(e.tradeType)}})]),e._v(" "),s("div",{staticClass:"contentBox"},[e.priceType===e.$t("marketPrice")?s("span",[e._v(e._s(e.priceType)+":")]):e._e(),e.priceType===e.$t("marketPrice")?s("span",{style:{color:e.diffPrice>0?"#FD4F50":e.diffPrice<0?"#07B76F":"#8C8B8B"}},[e._v(e._s(e.tickPrice.price))]):e._e(),e._v(" "),e.priceType===e.$t("FixedPrice")?s("span",[e._v(e._s(e.priceType)+":")]):e._e(),e.priceType===e.$t("FixedPrice")?s("span",[e._v(e._s(e.value2))]):e._e()]),e._v(" "),s("div",{staticClass:"contentBox"},[s("span",[e._v(e._s(e.$t("Number"))+":")]),s("span",[e._v(e._s(e.value1))])]),e._v(" "),s("div",{staticClass:"contentBox"},[s("span",[e._v(e._s(e.$t("margin"))+":")]),s("span",[e._v(e._s(e.mCash))])]),e._v(" "),s("div",{staticClass:"contentBox"},[s("span",[e._v(e._s(e.$t("ServiceCharge"))+":")]),s("span",[e._v(e._s(e.HandCash2*e.value1))])]),e._v(" "),s("div",{staticClass:"newFooter"},[s("div",{staticClass:"nf-left",on:{click:e.Back}},[s("span",[e._v(e._s(e.$t("cancel")))])]),e._v(" "),s("div",{staticClass:"nf-right",on:{click:e.Gochange}},[s("span",[e._v(e._s(e.$t("Confirm")))])])])])])],1)},staticRenderFns:[]};var p=s("VU/8")(l,o,!1,function(e){s("pQBs")},"data-v-46bb2034",null).exports;c.a.use(n.a);var d={data:function(){return{value1:1,value2:0,changeColor:!0,showBsell:!1,tradeType:"",priceType:this.$t("marketPrice"),marginCash:0,openHandCash:0,PersonMoney:"获取中...",hold2:"",diffPrice:0,diffPriceRate:0}},props:{showP:{default:!0},tickPrice:{type:Object},digits:{},tickName:{type:String},ticknameT:{type:String},openHandM:{type:Number},margin:{type:Number},holdPositions:{},name:{},item2:{},numTick:{}},methods:{Load:function(){this.$emit("reload")},backText:function(e){this.$emit("backText",e),this.showBsell=!1},back:function(){var e=this.$route.path;"selfchoose"!==(e=(e=e.split("/"))[e.length-1])?this.$router.go(-1):this.$emit("back")},reduce:function(e){this.value<2?e.target.setAttribute("color","#FFF"):this.value--},add:function(){this.value++},cpColor:function(e){this.priceType!==e.target.innerText&&(this.priceType=e.target.innerText,this.changeColor=!this.changeColor)},buysell:function(e){this.tradeType=e.target.innerText,this.showBsell=!0},changeType:function(e){this.showBsell=e},request:function(){var e=this;this.global.ws.onopen=this.onopen(),this.global.ws.onmessage=function(t){"loadusermoney"===JSON.parse(t.data).action&&(e.PersonMoney=JSON.parse(t.data).data.object.balance)}},onopen:function(){var e;e={action:"loadusermoney",reqID:12,data:{userId:localStorage.getItem("uid")}},this.global.ws.send(a()(e))}},components:{buysell:p},created:function(){this.request(),this.openHandCash=this.openHandM,this.marginCash=this.margin,this.value2=this.tickPrice.price;for(var e=0;e<this.holdPositions.length;e++)this.holdPositions[e].instrumentid===this.ticknameT&&(this.hold2=this.holdPositions[e].groupid)},mounted:function(){this.diffPrice=(Number(this.tickPrice.price)-Number(this.tickPrice.preclose)).toFixed(this.digits),this.diffPriceRate=(Math.abs(this.diffPrice)/Number(this.tickPrice.preclose)*100).toFixed(3)+"%"},watch:{value1:function(e){this.openHandCash=Number(e)*this.openHandM,this.marginCash=Number(e)*this.margin},tickPrice:function(e){this.diffPrice=(Number(e.price)-Number(e.preclose)).toFixed(this.digits),this.diffPriceRate=(Math.abs(this.diffPrice)/Number(e.preclose)*100).toFixed(2)+"%"}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"pay"}},[s("div",{staticClass:"pay"},[s("div",{staticClass:"header"},[s("div",{staticClass:"payName"},[s("span",{staticClass:"pn-name",class:"zh"!==e.$i18n.locale?"en-pn-name":""},[e._v(e._s(e.tickName))]),e._v(" "),s("span",{staticClass:"pn-ename"},[e._v(e._s(e.ticknameT))])]),e._v(" "),s("div",{staticClass:"newPrice",style:{color:e.diffPrice>0?e.$t("rise"):e.diffPrice<0?e.$t("fall"):""}},[s("span",{staticClass:"pp-in"},[e._v(e._s(Number(e.tickPrice.price).toFixed(e.digits)))]),e._v(" "),s("span",{staticClass:"pp-out"},[s("span",[e._v(e._s(e.diffPrice>0?"":e.diffPrice<0?"":""))]),e._v(" "),s("span",[e._v(e._s(Math.abs(e.diffPrice)))]),e._v(" "),s("span",[e._v(e._s(e.diffPriceRate))])])]),e._v(" "),s("div",{staticClass:"payPrice"},[s("span",{staticClass:"pp-in"},[e._v(e._s(e.$t("Buy"))+"："+e._s(e.tickPrice.bidprice))]),e._v(" "),s("span",{staticClass:"pp-out"},[e._v(e._s(e.$t("Sell"))+"："+e._s(e.tickPrice.askprice))])])]),e._v(" "),s("div",{staticClass:"payNum"},[s("span",{staticClass:"cp-mkprice",class:{changeColor:e.changeColor},on:{click:function(t){return e.cpColor(t)}}},[e._v(e._s(e.$t("marketPrice")))]),e._v(" "),s("span",{staticClass:"cp-Liprice",class:{changeColor:!e.changeColor},on:{click:function(t){return e.cpColor(t)}}},[e._v(e._s(e.$t("FixedPrice")))])]),e._v(" "),s("div",{staticClass:"changNum"},[s("span",{staticClass:"pn-num",class:"zh"!==e.$i18n.locale?"en-pn-num":""},[e._v(e._s(e.$t("Number")))]),e._v(" "),s("div",{staticClass:"pn-num-con"},[s("van-stepper",{model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)]),e._v(" "),s("div",{staticClass:"changNum"},[s("span",{staticClass:"pn-num",class:"zh"!==e.$i18n.locale?"en-pn-num":""},[e._v(e._s(e.$t("Price")))]),e._v(" "),s("div",{staticClass:"pn-num-con"},[e._v(" --\x3e\n        "),e._v(" "),e.priceType===e.$t("FixedPrice")?s("van-stepper",{attrs:{"decimal-length":e.digits,min:0,step:e.numTick},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}):e._e(),e._v(" "),e.priceType===e.$t("marketPrice")?s("van-stepper",{attrs:{"decimal-length":e.digits,min:0,disabled:""},model:{value:e.tickPrice.price,callback:function(t){e.$set(e.tickPrice,"price",t)},expression:"tickPrice.price"}}):e._e(),e._v(" --\x3e\n        ")],1)]),e._v(" "),s("div",{staticClass:"payOut"},[s("span",{staticClass:"po-out",style:{backgroundColor:e.$t("fall")},on:{click:function(t){return e.buysell(t)}}},[e._v(e._s(e.$t("sell")))]),e._v(" "),s("span",{staticClass:"po-in",style:{backgroundColor:e.$t("rise")},on:{click:function(t){return e.buysell(t)}}},[e._v(e._s(e.$t("buy")))])]),e._v(" "),s("span",{staticClass:"black",on:{click:e.back}}),e._v(" "),s("buysell",{attrs:{diffPrice:e.diffPrice,tradeType:e.tradeType,Hold2:e.hold2,showBsell:e.showBsell,tickPrice:e.tickPrice,tickName:e.tickName,value1:e.value1,value2:e.tickPrice.price,priceType:e.priceType,ticknameT2:e.ticknameT,HandCash:e.openHandCash,mCash:e.marginCash,Money:e.PersonMoney},on:{backText:e.backText,load:e.Load,changeType:e.changeType}})],1)])},staticRenderFns:[]};var h=s("VU/8")(d,u,!1,function(e){s("5IEJ")},"data-v-6719fae3",null);t.default=h.exports},"5IEJ":function(e,t){},pQBs:function(e,t){}});
//# sourceMappingURL=25.29046499afb2165106e9.js.map