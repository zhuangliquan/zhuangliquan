(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac653c2e"],{"5db0":function(t,a,s){},b288:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"home"},[s("div",{staticClass:"top"}),s("van-nav-bar",{attrs:{fixed:!0},scopedSlots:t._u([{key:"left",fn:function(){return[s("div",{staticClass:"home-title one-text",on:{click:t.goLogin}},[t._v(t._s(t.timeText)),t.isLogin?s("span",[t._v("，"+t._s(t.userInfo.nickName))]):t._e()])]},proxy:!0},{key:"right",fn:function(){return[s("div",{staticClass:"icon-box"},[s("van-icon",{attrs:{name:"search",size:"24",color:"#0c34ba"},on:{click:t.showPopup}})],1),s("div",{staticClass:"icon-box"},[s("van-icon",{attrs:{name:"scan",size:"24",color:"#0c34ba"}})],1),s("div",{staticClass:"icon-box"},[s("van-icon",{attrs:{name:"calender-o",size:"24",color:"#0c34ba"}})],1)]},proxy:!0}])}),s("van-popup",{style:{height:"100%"},attrs:{position:"top"},model:{value:t.popupshow,callback:function(a){t.popupshow=a},expression:"popupshow"}},[s("div",{staticClass:"popup-box"},[s("van-search",{attrs:{placeholder:"请输入搜索关键词","show-action":""},on:{input:t.getSearchproducts},scopedSlots:t._u([{key:"action",fn:function(){return[s("div",{on:{click:t.onCancel}},[t._v("取消")])]},proxy:!0}]),model:{value:t.value,callback:function(a){t.value=a},expression:"value"}})],1),s("div",{staticClass:"product-box search-pro clearfix"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isnone,expression:"isnone"}],staticClass:"none"},[t._v("抱歉，没有找到该商品！")]),t._l(t.searchProducts,(function(a,e){return s("div",{key:e,staticClass:"product-item fl",class:[e%2==0?"p-left":"p-right"]},[s("div",{staticClass:"p-img",on:{click:function(s){return t.viewProductInfo(a.pid)}}},[s("img",{staticClass:"auto-img",attrs:{src:a.smallImg,alt:""}})]),s("div",{staticClass:"pro-name one-text"},[t._v(t._s(a.name))]),s("div",{staticClass:"clearfix"},[s("div",{staticClass:"en-pro-name one-text fl"},[t._v(t._s(a.enname))]),s("div",{staticClass:"pro-price fl"},[t._v(t._s(a.price))])])])}))],2)]),s("div",{staticClass:"banner-box"},[s("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"#0C34BA"},on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[s("div",{staticClass:"custom-indicator"},[t._v(" "+t._s(t.current+1)+"/4 ")])]},proxy:!0}])},t._l(t.bannerData,(function(a,e){return s("van-swipe-item",{key:e,on:{click:function(s){return t.viewProductInfo(a.pid)}}},[s("img",{staticClass:"auto-img",attrs:{src:a.bannerImg,"v-lazy":a.bannerImg,alt:""}}),s("div",{staticClass:"pro-info-banner one-text"},[t._v(t._s(a.name))])])})),1)],1),s("div",{staticClass:"hot-product"},[s("div",{staticClass:"hot-product-title"},[t._v("热门推荐")]),s("div",{staticClass:"product-box clearfix"},t._l(t.hotProducts,(function(a,e){return s("div",{key:e,staticClass:"product-item fl",class:[e%2==0?"p-left":"p-right"]},[s("div",{staticClass:"p-img",on:{click:function(s){return t.viewProductInfo(a.pid)}}},[s("img",{staticClass:"auto-img",attrs:{src:a.smallImg,alt:""}})]),s("div",{staticClass:"pro-name one-text"},[t._v(t._s(a.name))]),s("div",{staticClass:"clearfix"},[s("div",{staticClass:"en-pro-name one-text fl"},[t._v(t._s(a.enname))]),s("div",{staticClass:"pro-price fl"},[t._v(t._s(a.price))])])])})),0)])],1)},i=[],n=(s("5db0"),{name:"Home",data:function(){return{popupshow:!1,value:"",searchProducts:[],current:0,timeText:"",bannerData:[],hotProducts:[],isLogin:!1,userInfo:{},isnone:!1}},created:function(){this.getTime(),this.getbannerData(),this.getHotproducts(),this.getUserInfo()},methods:{goLogin:function(){var t=localStorage.getItem("TK");t||this.$router.push({name:"Login"})},showPopup:function(){this.popupshow=!0},onCancel:function(){this.popupshow=!1,this.value="",this.searchProducts=[]},onChange:function(t){this.current=t},getTime:function(){var t=(new Date).getHours();this.timeText=t>=6&&t<12?"早上好":t>=12&&t<18?"下午好":t>=18&&t<24?"晚上好":"深夜好"},getbannerData:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"GET",url:"/banner",params:{appkey:this.appkey}}).then((function(a){t.$toast.clear(),300==a.data.code&&(t.bannerData=a.data.result)})).catch((function(a){t.$toast.clear()}))},getHotproducts:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"GET",url:"/typeProducts",params:{appkey:this.appkey,key:"isHot",value:1}}).then((function(a){t.$toast.clear(),500==a.data.code&&(t.hotProducts=a.data.result)})).catch((function(a){t.$toast.clear()}))},viewProductInfo:function(t){this.$router.push({name:"Detail",query:{pid:t}})},getUserInfo:function(){var t=this,a=localStorage.getItem("TK");a&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findMy",params:{appkey:this.appkey,tokenString:a}}).then((function(a){t.$toast.clear(),"A001"==a.data.code&&a.data.result.length>0&&(t.isLogin=!0,t.userInfo=a.data.result[0])})).catch((function(a){t.$toast.clear()})))},getSearchproducts:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({methods:"GET",url:"/search",params:{appkey:this.appkey,name:this.value}}).then((function(a){if(t.$toast.clear(),"Q001"==a.data.code){if(""==t.value)return t.searchProducts=[],void(t.isnone=!1);a.data.result.length<=0&&(t.isnone=!0),t.searchProducts=a.data.result}})).catch((function(a){t.$toast.clear()}))}}}),o=n,c=s("2877"),r=Object(c["a"])(o,e,i,!1,null,null,null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-ac653c2e.b21f442e.js.map