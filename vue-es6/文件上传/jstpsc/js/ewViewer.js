"use strict";function _defineProperty(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function ewViewer(e){return void 0!==window.jQuery&&e instanceof window.jQuery?this.previewJQuery(e):this.previewJS(e),this}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};ewViewer.prototype.previewJS=function(e){if(function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":_typeof(e))&&1===e.nodeType&&"string"==typeof e.nodeName||e instanceof HTMLCollection||e instanceof NodeList}(e)){if(!document.querySelector("#preview-img-mask")){var i=document.createElement("div"),t=i.cloneNode(!0);i.id="preview-img-mask",i.style.cssText+="position:fixed;left:0;top:0;right:0;display:none;z-index:10000;overflow:auto;width:100%;height:100%;background:rgba(0,0,0,0.5)",t.style.cssText+="background-repeat: no-repeat;background-position: center;background-size: contain;",i.appendChild(t),document.body.appendChild(i)}var n=document.querySelector("#preview-img-mask");if(!e.length&&-1!==e.tagName.toLowerCase().indexOf("img")){var o=e.naturalWidth,r=e.naturalHeight,d=window.navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i),a=function(){return window.innerWidth}();(d||a<=600)&&(o*=.6,r*=.6);var c=window.innerWidth,s=window.innerHeight,u=e.getAttribute("src");setTimeout(function(){n.style.display="block"},600);var p=n.querySelector("div");p.style.cssText+="background-image:url('"+u+"');background-size:"+o+"px "+r+"px;width:0;height:0;",p.style.width=o>c?o+"px":"100%",p.style.height=r>s?r+"px":"100%",n.onclick=function(){var e=this;setTimeout(function(){e.style.display="none"},600)}}}},ewViewer.prototype.previewJQuery=function(e){$("#preview-img-mask").length||$('<div id="preview-img-mask"><div></div></div>').appendTo("body");var i=$("#preview-img-mask");if(i.css({position:"fixed",left:0,top:0,right:0,display:"none","z-index":1e4,overflow:"auto",width:"100%",height:"100%",background:"rgba(0,0,0,0.5)"}),-1!==e.prop("tagName").toLowerCase().indexOf("img")){var t=e[0].naturalWidth,n=e[0].naturalHeight,o=window.navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i),r=function(){return $(window).width()}();(o||r<=600)&&(t*=.6,n*=.6);var d=$(window).width(),a=$(window).height(),c=e.attr("src");i.fadeIn(600);var s=i.children();s.css(_defineProperty({"background-image":"url("+c+")","background-size":t+"px "+n+"px",width:"",height:"","background-repeat":"no-repeat","background-position":"center"},"background-size","contain")),t>d?s.css("width",t):s.css("width","100%"),n>a?s.css("height",n):s.css("height","100%"),i.off("click").on("click",function(){$(this).fadeOut(600)})}};